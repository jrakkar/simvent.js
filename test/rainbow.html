<!DOCTYPE html>
<meta charset="utf-8"/>

<script src="../lib/d3.v3.min.js" charset="utf-8"></script>
<script src="../src/graphsimple.js" charset="utf-8"></script>
<script src="../src/simvent.js" charset="utf-8"></script>
<!--script src="../frontpaneljs/dict.js" charset="utf-8"></script-->
<link rel="stylesheet" type="text/css" href="../css/gs-grid-clear-rainbow.css" charset="utf-8"/>
<!--link rel="stylesheet" type="text/css" href="../../graphsimple.js/css/test-layout.css" charset="utf-8"/-->

<style>
body {
	box-sizing: border-box;
	padding: 0px;
	margin: 0px;
}
html {
	box-sizing: border-box;
	height: 100%;
	padding-top: none;
	margin: none;
}
svg {
		  display: block;
		  border: 1px solid gray;
		  width: 90vw;
		  height: 90vh;
		  margin-left: auto;
		  margin-right: auto;
}
div {
		  border: 1px dashed blue;
		  width: 100%;
		  height: 100%;
}
.gs .controlsGroup {
	opacity: .1;
	font-size: 36pt;
}
</style>
<body>
	<script>
gs.defaults["margeG"]=90;
gs.defaults["margeD"]=10;
gs.defaults["margeH"]=10;
gs.defaults["margeB"]=60;
gs.defaults.padH=.05;
gs.defaults.padB=.1;
gs.defaults.drawControlsSymbols=true;

var lung1 = new sv.SimpleLung();
lung1.Crs=100;

var vent = new sv.PressureControler();	
vent.Tvent = 4;
vent.Ti = 1.2;

var dat1 = vent.ventilate(lung1).timeData;

function fx(d){return d.time;}
function fy(d){return d.Flung;}

var gid = gs.newSvg();
var plot = new gs.graph("#"+gid);
plot.setscale(dat1,fx,fy);
plot.tracer(dat1,fx,fy);
for (var i = 2; i<9; i++){
	var lung = new sv.SimpleLung();
	lung.Crs=100 - i * 10;
	vent.time = 0;
	var data = vent.ventilate(lung).timeData;
	plot.tracer(data,fx,fy);
}
	</script>
</body>
